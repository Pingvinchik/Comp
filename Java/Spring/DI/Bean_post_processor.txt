Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2017-05-07T18:22:58+04:00

====== Bean post processor ======
Created Воскресенье 07 Май 2017

Позволяет настраивать бины до того как они попадут в контейнер.

Сначала Spring вызывает конструктор класса через Reflection, а затем вызывается метод bean post processor beforeInit method, а затем init method (двух фазовый конструктор)

Бин настраивается в beforeInit. А bean post processor, который меняет логику в классе (добавляет что-то, например aop) они делают это на этапе afterInit

Для того чтобы после инициализации добавить какую-то логику в класс нужно сгенерировать прокси объект, который будет делегировать методы. Он будет имплементировать все методы корневого интерфейса (если он есть)  Dynamic proxy. А если нет, то будет использовать cglib, т.е. наследоваться от него.

Т.к. от метода beforeInit ожидается, что он вернет оригинальный класс и по конвенциям Spring, те методы, которые что-то меняют должны быть в  afterInit. 
